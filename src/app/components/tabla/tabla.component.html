<div>
  <!-- Encabezado de la página con título y botón de información -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="text-center mb-0">Historial de Movimiento de Productos</h1>
    <button class="btn btn-primary info-button d-flex justify-content-center align-items-center" data-bs-toggle="modal"
      data-bs-target="#infoModal" style="background-color: rgb(0, 68, 255); 
           width: 40px; 
           height: 40px; 
           border-radius: 5px; 
           padding: 0; 
           border: none;">
      <!-- Ícono de información -->
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ffffff" class="bi bi-info-circle">
        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
        <path
          d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
      </svg>
    </button>
  </div>

  <!-- Sección de filtros y botones de exportación -->
  <div class="card p-4 shadow-sm">
    <div class="row d-flex align-items-center justify-content-between">
      <!-- Campo Desde para seleccionar la fecha de inicio -->
      <div class="col-md-3 d-flex align-items-center">
        <label for="startDate" class="form-label me-2">Desde:</label>
        <input type="date" id="startDate" class="form-control" #startDateInput (change)="onStartDateChange()" />
      </div>

      <!-- Campo Hasta para seleccionar la fecha de fin -->
      <div class="col-md-3 d-flex align-items-center">
        <label for="endDate" class="form-label me-2">Hasta:</label>
        <input type="date" id="endDate" class="form-control" #endDateInput (change)="onEndDateChange()" />
      </div>

      <!-- Botones para exportar datos a PDF y Excel -->
      <div class="col-md-6 d-flex justify-content-end">
        <button class="btn btn-danger me-2" (click)="exportToPdf()">
          <i class="bi bi-file-earmark-pdf"></i>
        </button>
        <button class="btn btn-success me-2" (click)="exportToExcel()">
          <i class="bi bi-file-earmark-excel"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Tabla que muestra el historial de movimientos de productos -->
  <div class="table-responsive mt-4">
    <table id="historialTable" class="table table-striped table-hover display">
      <thead class="table-light">
        <tr>
          <th>Fecha</th>
          <th>Producto</th>
          <th>Tipo Movimiento</th>
          <th>Proveedor</th>
          <th>Cantidad</th>
          <th>Justificativo</th>
          <th>Stock Después</th>
          <!-- Nueva columna para mostrar el stock después del movimiento -->
        </tr>
      </thead>
      <tbody>
        <!-- Los datos se llenarán dinámicamente con DataTables -->
      </tbody>
    </table>
  </div>

  <!-- Modal de Información que se despliega al hacer clic en el botón de información -->
  <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="infoModalLabel">
            Información sobre la Página
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>
            Esta página muestra el historial de movimientos de productos, permitiéndote realizar las siguientes
            acciones:
          </p>
          <ul>
            <li><strong>Filtrar el historial por fechas:</strong> Utiliza los campos "Desde" y "Hasta" para especificar
              el rango de fechas que deseas consultar. Los datos de movimientos se actualizarán automáticamente según
              tus selecciones.</li>
            <li><strong>Exportar los datos a Excel o PDF:</strong> Haz clic en los botones de "Exportar a Excel" o
              "Exportar a PDF" para obtener un archivo con la información visualizada en la tabla. Estos botones estarán
              habilitados solo si hay datos disponibles para exportar.</li>
            <li><strong>Visualizar los detalles de cada movimiento de producto:</strong> La tabla te permite ver
              información específica sobre cada movimiento, incluyendo la fecha, producto, tipo de movimiento,
              proveedor, cantidad, justificativo y stock después del movimiento.</li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Cerrar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>