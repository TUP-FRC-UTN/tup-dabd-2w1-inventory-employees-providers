<div class="container mt-5">
    <div class="inner-container">
        <h2 class="text-center mb-4">Listado de Desempeño</h2>
        
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="startDate">Fecha Inicio:</label>
                    <input id="startDate" type="date" [(ngModel)]="startDate" class="form-control" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="endDate">Fecha Fin:</label>
                    <input id="endDate" type="date" [(ngModel)]="endDate" class="form-control" />
                </div>
            </div>
        </div>
        
        <div class="d-flex justify-content-end mb-4">
            <button (click)="onFilterByDate()" class="btn btn-primary">Filtrar por Fechas</button>
        </div>

        <div class="table-responsive">
            <table id="employeePerformanceTable" class="table table-striped table-bordered">
                <thead class="thead-light">
                    <tr>
                        <th>Fecha Inicio</th>
                        <th>Fecha Fin</th>
                        <th>Nombre</th>
                        <th>Cargo</th>
                        <th>Desempeño</th>
                        <th>Observaciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let ep of employeePerformances">
                        <td>
                            <ng-container *ngIf="ep.performance.length > 0; else noDates">
                                {{ ep.performance[0].startDate | date:'dd/MM/yyyy' }}
                            </ng-container>
                            <ng-template #noDates>No hay fechas</ng-template>
                        </td>
                        <td>
                            <ng-container *ngIf="ep.performance.length > 0; else noDates">
                                {{ ep.performance[0].endDate | date:'dd/MM/yyyy' }}
                            </ng-container>
                            <ng-template #noDates>No hay fechas</ng-template>
                        </td>
                        <td>{{ ep.employee.fullName }}</td>
                        <td>{{ ep.employee.position }}</td>
                        <td>
                            <ng-container *ngIf="ep.performance.length > 0; else noPerformance">
                                {{ ep.performance[0].performanceType }}
                            </ng-container>
                            <ng-template #noPerformance>No hay datos</ng-template>
                        </td>
                        <td>
                            <ng-container *ngIf="ep.performance.length > 0; else noObservations">
                                <ul>
                                    <li *ngFor="let observation of ep.performance">{{ observation.observationsCount }}</li> <!-- Mostrar las observaciones -->
                                </ul>
                            </ng-container>
                            <ng-template #noObservations>No hay observaciones</ng-template>
                        </td>                        
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="d-flex justify-content-end">
            <button (click)="navigateToWakeUpCallForm()" class="btn btn-success mt-3">Nuevo llamado</button>
        </div>
    </div>
</div>







  
  