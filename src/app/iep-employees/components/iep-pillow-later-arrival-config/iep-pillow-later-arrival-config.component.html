<!-- global-minutes-config.component.html -->
<div class="container py-5 ">
    <div class="row justify-content-center  ">
      <div class="col-md-12 ">
        <!-- Encabezado -->
        <div class="d-flex align-items-center mb-4">
          <i class="fas fa-cog text-primary fs-2"></i>
          <div class="ms-3">
            <h1 class="h4 text-dark mb-0">Configuración </h1>
          </div>
        </div>
        <form [formGroup]="configForm" (ngSubmit)="onSubmit()">
        <div class="row">
           
        <div class="col-6" >
                
        <div class="card shadow-sm p-4">
            <div class="pb-3">
              <div class="d-flex align-items-center gap-2">
                <i class="fas fa-clock text-primary"></i>
                <h2 class="h5">Política de llegadas Tardes</h2>
              </div>
              <p class="text-muted mt-2">
                Configure el tiempo de tolerancia global para llegadas tarde de los empleados. Esta configuración se aplicará a todos los empleados de la organización.
              </p>
            </div>
    
            <hr class="my-4"/>
    
              <!-- Alerta informativa -->
              <div class="alert alert-info d-flex align-items-center mb-4" role="alert">
                <i class="fas fa-info-circle me-2"></i>
                <span class="fs-6">
                  Los valores configurados aquí afectarán el cálculo de llegadas tarde para todos los empleados. Asegúrese de que este valor esté alineado con las políticas de la empresa.
                </span>
              </div>
    
              <!-- Campo de minutos -->
              <div class="mb-4">
                <label for="minutes" class="form-label">Tiempo de tolerancia para llegadas tarde</label>
                <div class="d-flex align-items-center gap-3">
                  <input
                    id="minutes"
                    type="number"
                    formControlName="minutes"
                    class="form-control w-auto"
                    [class.is-invalid]="isFieldInvalid('minutes')"
                    min="0"
                    max="60"
                    placeholder="0-60"
                  >
                  <span class="text-muted">minutos</span>
                </div>
                
                <!-- Errores -->
                <div *ngIf="isFieldInvalid('minutes')" class="invalid-feedback d-block">
                  <i class="fas fa-exclamation-circle"></i>
                  <span *ngIf="getFieldError('minutes', 'required')">Este campo es requerido</span>
                  <span *ngIf="getFieldError('minutes', 'min')">El valor mínimo es 0 minutos</span>
                  <span *ngIf="getFieldError('minutes', 'max')">El valor máximo es 60 minutos</span>
                </div>
              </div>
              <!-- Valor actual -->
              <div  class="alert alert-light mb-4">
                <p class="mb-0">Configuración actual:
                   <strong>{{savedMinutesValue }}  minutos</strong> de tolerancia
                  </p>
              </div>
    
          
         
    
          
          </div>
            </div>
            <div class="col-6">

                <div class="card shadow-sm p-4">
                    <div class="">
                        <div class="d-flex align-items-center gap-2">
                            <i class="fas fa-clock text-primary"></i>
                            <h2 class="h5">Política de Justificacion por Falta</h2>
                          </div>
                      <p class="text-muted mt-2">
                        Configure el tiempo de tolerancia global para justificación por Faltas de los empleados. Esta configuración se aplicará a todos los empleados de la organización.
                      </p>
                    </div>
            
                    <hr class="my-4"/>
            
                  
                      <!-- Alerta informativa -->
                      <div class="alert alert-info d-flex align-items-center" role="alert">
                        <i class="fas fa-info-circle me-2"></i>
                        <span class="fs-6">
                          Los valores configurados aquí afectarán el acceso a la carga de justificacion  para todos los empleados. Asegúrese de que este valor esté alineado con las políticas de la empresa.
                        </span>
                      </div>
            
                      <!-- campo days -->
                      <div class="mb-4">
                        <label for="days" class="form-label">Dias habiles para justificar </label>
                        <div class="d-flex align-items-center gap-3">
                          <input
                            id="days"
                            type="number"
                            formControlName="days"
                            class="form-control w-auto"
                            [class.is-invalid]="isFieldInvalid('days')"
                            min="0"
                            max="60"
                            placeholder="0-30"
                          >
                          <span class="text-muted">dias</span>
                        </div>
                        
                        <!-- Errores -->
                        <div *ngIf="isFieldInvalid('days')" class="invalid-feedback d-block">
                          <i class="fas fa-exclamation-circle"></i>
                          <span *ngIf="getFieldError('days', 'required')">Este campo es requerido</span>
                          <span *ngIf="getFieldError('days', 'min')">El valor mínimo es 0 dias</span>
                          <span *ngIf="getFieldError('days', 'max')">El valor máximo es 30 dias</span>
                        </div>
                      </div>
                      <!-- Valor actual -->
                      <div  class="alert alert-light mb-4">
                        <p class="mb-0">Configuración actual:
                           <strong>{{savedDaysValue}}  dias</strong> de tolerancia
                          </p>
                      </div>
            
                  
            
                    <!-- Mensaje de éxito -->
                    <div *ngIf="successMessage" class="mt-4 alert alert-success">
                      <p class="mb-0 text-success">{{savedMinutesValue}}</p>
                    </div>
                  </div>
            </div>



            
                      <!-- Botones -->
                      <div  class=" gap-3 text-end mt-4">
                        <button 
                        type="button"
                        class="btn btn-secondary me-3"
                        (click)="goBack()"
                      >
                      Cancelar 
                      </button>
                        <button 
                          type="submit"
                          class="btn btn-primary "
                          [disabled]="configForm.invalid || configForm.pristine"
                        >
                          Guardar 
                        </button>
                       
                      </div>

             </div>
         </form>   
      </div>
    </div>
    
  </div>
  