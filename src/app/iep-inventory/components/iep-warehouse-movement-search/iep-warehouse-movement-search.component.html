<section class="py-5">
  <div class="container p-3 border border-2 rounded shadow-lg">
    <div
      class="d-flex mb-2 justify-content-between align-items-center flex-nowrap"
    >
    <!-- Filtros y Botones -->
    <div class="row mb-4 align-items-center">
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <input 
              type="text" 
              class="form-control" 
              placeholder="Buscar en todos los campos..."
              [(ngModel)]="searchTerm"
              (ngModelChange)="onSearchChange($event)"
            >
          </div>
        </div>
        <div class="col-md-3">
          <ng-select
            [items]="movementTypeOptions"
            [multiple]="true"
            bindLabel="label"
            bindValue="id"
            [(ngModel)]="selectedTypes"
            (change)="onTypeChange()"
            [closeOnSelect]="false"
            placeholder="Seleccionar Tipo"
            [clearable]="true">
            <ng-template ng-multi-label-tmp let-items="items">
              Seleccionar Tipo
              <span *ngIf="items.length > 0">({{ items.length }})</span>
            </ng-template>
            <ng-template ng-option-tmp let-item="item" let-item$="item$">
              <input type="checkbox" [checked]="item$.selected"/> 
              <span>{{ item.label }}</span>
            </ng-template>
          </ng-select>
        </div>
        <div class="col-md-3">
          <input 
            type="date" 
            class="form-control"
            [(ngModel)]="selectedDate"
            (ngModelChange)="onDateChange()"
          >
        </div>
        <!-- Botones a la derecha -->
        <div class="col-md-3 d-flex justify-content-end">
          <button class="btn btn-secondary me-2" (click)="resetFilters()">
            <i class="bi bi-trash"></i>
          </button>
          <button class="btn btn-success me-2" (click)="exportToExcel()">
            <i class="fa-solid bi-file-earmark-excel"></i>
          </button>
          <button class="btn btn-danger me-2" (click)="exportToPdf()">
            <i class="fas bi-file-earmark-pdf"></i>
          </button>
        </div>
      </div>
      
      <div class="row">
        <!-- Tabla -->
      <div class="table-responsive">
        <table id="movementTable" class="table table-striped table-bordered border-4 border" style="width:100%">
          <thead class="table-light border-4 border">
            <tr>
              <th>Fecha y Hora</th>
              <th>Tipo</th>
              <th>Producto</th>
              <th>Cantidad</th>
              <th>Precio</th>
              <th>Stock Resultante</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      </div>
    </div>
    </div>
    </div>
    
    

  <!-- Modal del Formulario -->
  <div class="modal fade" id="movement" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Movimiento de Stock</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Hola
        </div>
      </div>
    </div>
  </div>

  <!-- Floating button -->
  <button class="floating-btn btn btn-primary" data-bs-target="#movement" data-bs-toggle="modal">
    <span class="bi-plus-lg"></span>
  </button>
</section>
